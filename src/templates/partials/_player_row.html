<tr id="player-{{ player.id }}" class="border-b border-gray-200 hover:bg-slate-300k transition-colors duration-200">
    <td class="py-3 px-4 text-left whitespace-nowrap">
        <span class="font-medium">{{ player.name }}</span>
    </td>
    <td class="py-3 px-4 text-left whitespace-nowrap">
        <span>
            {% for team_id in player.teams %}
                {% set team = teams | selectattr("id", "equalto", team_id) | first %}
                <span class="badge bg-slate-100 px-2 py-1 rounded text-xs">{{ team.name }}</span>{% if not loop.last %}, {% endif %}
            {% endfor %}
        </span>
    </td>
    <td class="py-3 px-4 text-left whitespace-nowrap">
        <select
            name="club_id"
            class="bg-transparent border border-slate-300 rounded px-2 py-1 focus:outline-none focus:border-teal-500"
            hx-post="/players/{{ player.id }}/club/dispatch"
            hx-trigger="change"
            hx-target="closest td"
            hx-swap="innerHTML"
        >
            {% for club in clubs %}
            <option value="{{ club.id }}" {% if club.id == player.club %}selected{% endif %}>
                {{ club.name }}
            </option>
            {% endfor %}
            <option disabled>──────────</option>
            <option value="new">+ Add New Club...</option>
        </select>
    </td>
</tr>
